<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML & CSS Cheatsheet Toàn Tập + AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .code-block {
            font-family: 'Courier New', Courier, monospace;
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            overflow-x: auto;
            white-space: pre-wrap; /* Wrap long lines */
        }

        .preview-box {
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-top: 0.5rem;
        }

        .nav-item.active {
            background-color: #3b82f6;
            color: white;
        }

        /* Box Model Visual */
        .box-model-demo {
            background-color: #93c5fd; /* Content */
            border: 5px solid #1e40af; /* Border */
            padding: 20px; /* Padding */
            margin: 20px; /* Margin */
            position: relative;
        }
        .box-model-demo::before {
            content: "Margin";
            position: absolute;
            top: -18px;
            left: 0;
            font-size: 10px;
            color: #94a3b8;
        }

        /* AI Chat Modal Animations */
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-in {
            animation: slideIn 0.3s ease-out forwards;
        }
        
        /* Loading Dots */
        .dot-flashing {
            position: relative;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #3b82f6;
            color: #3b82f6;
            animation: dot-flashing 1s infinite linear alternate;
            animation-delay: 0.5s;
        }
        .dot-flashing::before, .dot-flashing::after {
            content: '';
            display: inline-block;
            position: absolute;
            top: 0;
        }
        .dot-flashing::before {
            left: -15px;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #3b82f6;
            color: #3b82f6;
            animation: dot-flashing 1s infinite alternate;
            animation-delay: 0s;
        }
        .dot-flashing::after {
            left: 15px;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: #3b82f6;
            color: #3b82f6;
            animation: dot-flashing 1s infinite alternate;
            animation-delay: 1s;
        }
        @keyframes dot-flashing {
            0% { background-color: #3b82f6; }
            50%, 100% { background-color: #bfdbfe; }
        }

        /* Markdown-like styling for AI response */
        .ai-response h3 { font-weight: bold; margin-top: 10px; margin-bottom: 5px; color: #1e40af; }
        .ai-response ul { list-style-type: disc; margin-left: 20px; margin-bottom: 10px; }
        .ai-response p { margin-bottom: 10px; }
        .ai-response pre { background-color: #1e293b; color: #e2e8f0; padding: 10px; border-radius: 5px; overflow-x: auto; margin-bottom: 10px; }
        .ai-response code { font-family: 'Courier New', monospace; background-color: #f1f5f9; padding: 2px 4px; border-radius: 3px; color: #d946ef; }
        .ai-response pre code { background-color: transparent; color: inherit; padding: 0; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 h-screen flex overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-64 bg-white border-r border-gray-200 hidden md:flex flex-col z-10">
        <div class="p-6 border-b border-gray-200">
            <h1 class="text-2xl font-bold text-blue-600"><i class="fa-brands fa-html5"></i> & <i class="fa-brands fa-css3-alt"></i></h1>
            <p class="text-sm text-gray-500 mt-1">Tài liệu tra cứu nhanh</p>
        </div>
        <nav class="flex-1 overflow-y-auto p-4 space-y-1">
            <div class="mb-4 px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100 cursor-pointer hover:shadow-md transition-all" onclick="openAIModal()">
                <div class="flex items-center gap-2 text-blue-700 font-bold">
                    <i class="fa-solid fa-sparkles text-yellow-500"></i>
                    <span>Hỏi Trợ lý AI</span>
                </div>
                <p class="text-xs text-blue-600 mt-1">Giải đáp & Tạo code</p>
            </div>
            
            <a href="#structure" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">1. Cấu trúc cơ bản</a>
            <a href="#text" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">2. Định dạng văn bản</a>
            <a href="#lists" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">3. Danh sách (Lists)</a>
            <a href="#media" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">4. Đa phương tiện</a>
            <a href="#links" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">5. Liên kết (Links)</a>
            <a href="#tables" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">6. Bảng (Tables)</a>
            <a href="#forms" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">7. Biểu mẫu (Forms)</a>
            <a href="#semantic" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">8. Semantic HTML</a>
            <hr class="my-2">
            <a href="#css-selectors" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">CSS: Bộ chọn (Selectors)</a>
            <a href="#css-boxmodel" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">CSS: Box Model</a>
            <a href="#css-flexgrid" class="nav-item block px-4 py-2 rounded-md hover:bg-gray-100 text-sm font-medium">CSS: Layout (Flex/Grid)</a>
        </nav>
    </aside>

    <!-- Mobile Header -->
    <div class="md:hidden fixed top-0 w-full bg-white border-b border-gray-200 z-20 flex justify-between items-center p-4">
        <h1 class="text-xl font-bold text-blue-600">HTML & CSS Cheatsheet</h1>
        <div class="flex items-center gap-3">
             <button onclick="openAIModal()" class="text-yellow-500 focus:outline-none bg-blue-50 p-2 rounded-full">
                <i class="fa-solid fa-sparkles"></i>
            </button>
            <button id="menu-btn" class="text-gray-600 focus:outline-none">
                <i class="fa-solid fa-bars text-xl"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu" class="fixed inset-0 bg-gray-800 bg-opacity-75 z-30 hidden" onclick="toggleMenu()">
        <div class="bg-white w-64 h-full p-4 overflow-y-auto" onclick="event.stopPropagation()">
            <!-- Mobile nav content will be cloned here or manual links -->
            <h2 class="text-lg font-bold mb-4">Mục lục</h2>
            <nav class="space-y-2" id="mobile-nav-links">
                <!-- Links injected via JS -->
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto p-4 md:p-8 pt-20 md:pt-8 scroll-smooth" id="main-content">
        
        <!-- Intro -->
        <div class="mb-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-2">Tổng hợp HTML & CSS</h2>
            <p class="text-gray-600">Bảng tra cứu nhanh các thẻ, thuộc tính và bộ chọn. Sử dụng <strong class="text-blue-600">✨ Trợ lý AI</strong> để tạo code mẫu.</p>
        </div>

        <!-- 1. Structure -->
        <section id="structure" class="mb-12">
            <h3 class="text-xl font-bold text-blue-700 mb-4 border-b pb-2">1. Cấu trúc trang cơ bản</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <p class="mb-2 text-sm text-gray-600">Khung sườn của một tài liệu HTML chuẩn:</p>
                    <div class="code-block">
&lt;!DOCTYPE html&gt;
&lt;html lang="vi"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Tiêu đề trang&lt;/title&gt;
    &lt;link rel="stylesheet" href="style.css"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;!-- Nội dung hiển thị --&gt;
  &lt;/body&gt;
&lt;/html&gt;
                    </div>
                </div>
                <div class="space-y-2 text-sm">
                    <div class="flex items-start"><code class="text-red-500 font-bold mr-2">&lt;!DOCTYPE&gt;</code> <span>Khai báo phiên bản HTML5.</span></div>
                    <div class="flex items-start"><code class="text-red-500 font-bold mr-2">&lt;head&gt;</code> <span>Chứa metadata, title, link CSS (không hiển thị trực tiếp).</span></div>
                    <div class="flex items-start"><code class="text-red-500 font-bold mr-2">&lt;body&gt;</code> <span>Chứa nội dung người dùng nhìn thấy.</span></div>
                    <div class="flex items-start"><code class="text-red-500 font-bold mr-2">&lt;meta&gt;</code> <span>Thông tin về bảng mã, viewport, mô tả.</span></div>
                </div>
            </div>
        </section>

        <!-- 2. Text Formatting -->
        <section id="text" class="mb-12">
            <h3 class="text-xl font-bold text-blue-700 mb-4 border-b pb-2">2. Định dạng văn bản</h3>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Headings -->
                    <div>
                        <h4 class="font-semibold mb-2">Tiêu đề (Headings)</h4>
                        <div class="preview-box space-y-1">
                            <h1>Thẻ &lt;h1&gt; lớn nhất</h1>
                            <h2>Thẻ &lt;h2&gt; cấp 2</h2>
                            <h3>Thẻ &lt;h3&gt; cấp 3</h3>
                            <h6 class="text-gray-500">Thẻ &lt;h6&gt; nhỏ nhất</h6>
                        </div>
                    </div>
                    <!-- Inline Styles -->
                    <div>
                        <h4 class="font-semibold mb-2">Định dạng nội dòng</h4>
                        <div class="preview-box space-y-2 text-gray-800">
                            <p><b>In đậm</b> dùng <code>&lt;b&gt;</code> hoặc <strong>&lt;strong&gt;</strong></p>
                            <p><i>In nghiêng</i> dùng <code>&lt;i&gt;</code> hoặc <em>&lt;em&gt;</em></p>
                            <p><u>Gạch chân</u> dùng <code>&lt;u&gt;</code></p>
                            <p>Đánh dấu <mark>nổi bật</mark> dùng <code>&lt;mark&gt;</code></p>
                            <p>Công thức: H<sub>2</sub>O (<code>&lt;sub&gt;</code>), X<sup>2</sup> (<code>&lt;sup&gt;</code>)</p>
                        </div>
                    </div>
                </div>
                <div class="mt-4">
                    <h4 class="font-semibold mb-2">Đoạn văn & Ngắt dòng</h4>
                    <div class="code-block">
&lt;p&gt;Đây là một đoạn văn bản.&lt;/p&gt;
&lt;br&gt; &lt;!-- Xuống dòng --&gt;
&lt;hr&gt; &lt;!-- Đường kẻ ngang --&gt;
&lt;span&gt;Nhóm nội dòng để style riêng&lt;/span&gt;
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Lists -->
        <section id="lists" class="mb-12">
            <h3 class="text-xl font-bold text-blue-700 mb-4 border-b pb-2">3. Danh sách (Lists)</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- UL -->
                <div class="bg-white p-4 rounded border">
                    <h4 class="font-semibold text-center mb-2">&lt;ul&gt; Không thứ tự</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-700">
                        <li>Mục 1 (<code>&lt;li&gt;</code>)</li>
                        <li>Mục 2</li>
                        <li>Mục 3</li>
                    </ul>
                </div>
                <!-- OL -->
                <div class="bg-white p-4 rounded border">
                    <h4 class="font-semibold text-center mb-2">&lt;ol&gt; Có thứ tự</h4>
                    <ol class="list-decimal list-inside space-y-1 text-gray-700" start="1">
                        <li>Bước 1 (<code>&lt;li&gt;</code>)</li>
                        <li>Bước 2</li>
                        <li>Bước 3</li>
                    </ol>
                </div>
                <!-- DL -->
                <div class="bg-white p-4 rounded border">
                    <h4 class="font-semibold text-center mb-2">&lt;dl&gt; Định nghĩa</h4>
                    <dl class="text-sm">
                        <dt class="font-bold text-gray-900">HTML (<code>&lt;dt&gt;</code>)</dt>
                        <dd class="text-gray-600 ml-4 mb-2">Ngôn ngữ đánh dấu (<code>&lt;dd&gt;</code>)</dd>
                        <dt class="font-bold text-gray-900">CSS</dt>
                        <dd class="text-gray-600 ml-4">Ngôn ngữ định dạng</dd>
                    </dl>
                </div>
            </div>
        </section>

        <!-- 4 & 5 Media & Links -->
        <section id="media" class="mb-12">
            <h3 class="text-xl font-bold text-blue-700 mb-4 border-b pb-2">4 & 5. Đa phương tiện & Liên kết</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold mb-2">Hình ảnh & Links</h4>
                    <div class="preview-box flex flex-col items-center gap-4">
                        <div class="text-center">
                            <img src="https://placehold.co/150x100?text=Image" alt="Ví dụ" class="rounded shadow mb-2">
                            <code class="text-xs block">&lt;img src="..." alt="..."&gt;</code>
                        </div>
                        <div>
                            <a href="#" class="text-blue-600 hover:underline">Đây là Link (<code>&lt;a href&gt;</code>)</a>
                        </div>
                    </div>
                </div>
                <div>
                    <h4 class="font-semibold mb-2">Audio, Video & Iframe</h4>
                    <div class="space-y-2 text-sm">
                        <div class="p-2 bg-gray-100 rounded">
                            <code>&lt;audio controls src="..."&gt;&lt;/audio&gt;</code>
                        </div>
                        <div class="p-2 bg-gray-100 rounded">
                            <code>&lt;video controls width="100%"&gt;...&lt;/video&gt;</code>
                        </div>
                        <div class="p-2 bg-gray-100 rounded">
                            <code>&lt;iframe src="https://..."&gt;&lt;/iframe&gt;</code>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. Tables -->
        <section id="tables" class="mb-12">
            <h3 class="text-xl font-bold text-blue-700 mb-4 border-b pb-2">6. Bảng (Tables)</h3>
            <div class="overflow-x-auto">
                <table class="min-w-full bg-white border border-gray-300">
                    <caption class="p-2 font-bold text-gray-700 text-left">Bảng Danh Sách Sản Phẩm (<code>&lt;caption&gt;</code>)</caption>
                    <thead>
                        <tr class="bg-gray-200">
                            <th class="py-2 px-4 border-b border-r text-left">Tên SP (<code>&lt;th&gt;</code>)</th>
                            <th class="py-2 px-4 border-b border-r text-left">Giá</th>
                            <th class="py-2 px-4 border-b text-left">Ghi chú</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="py-2 px-4 border-b border-r">Sản phẩm A (<code>&lt;td&gt;</code>)</td>
                            <td class="py-2 px-4 border-b border-r">100.000đ</td>
                            <td class="py-2 px-4 border-b" rowspan="2">Hàng mới về (<code>rowspan</code>)</td>
                        </tr>
                        <tr class="bg-gray-50">
                            <td class="py-2 px-4 border-b border-r">Sản phẩm B</td>
                            <td class="py-2 px-4 border-b border-r">200.000đ</td>
                        </tr>
                        <tr>
                            <td class="py-2 px-4 border-b border-r" colspan="2">Tổng cộng: 300.000đ (<code>colspan</code>)</td>
                            <td class="py-2 px-4 border-b"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 7. Forms -->
        <section id="forms" class="mb-12">
            <h3 class="text-xl font-bold text-blue-700 mb-4 border-b pb-2">7. Biểu mẫu (Forms)</h3>
            <form class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 space-y-4" onsubmit="event.preventDefault(); alert('Form submitted!');">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Text Inputs -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Họ tên (text)</label>
                        <input type="text" placeholder="Nhập tên..." class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Email (email)</label>
                        <input type="email" placeholder="abc@gmail.com" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <!-- Password -->
                    <div>
                         <label class="block text-sm font-medium text-gray-700">Mật khẩu (password)</label>
                         <input type="password" value="secret" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm">
                    </div>
                    <!-- Select -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Thành phố (select)</label>
                        <select class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white">
                            <option>Hà Nội</option>
                            <option>Đà Nẵng</option>
                            <option>TP.HCM</option>
                        </select>
                    </div>
                </div>

                <!-- Radio & Checkbox -->
                <div class="flex gap-6 mt-4">
                    <div>
                        <span class="block text-sm font-medium text-gray-700 mb-1">Giới tính (radio)</span>
                        <div class="flex items-center gap-4">
                            <label class="flex items-center"><input type="radio" name="gender" class="mr-2"> Nam</label>
                            <label class="flex items-center"><input type="radio" name="gender" class="mr-2"> Nữ</label>
                        </div>
                    </div>
                    <div>
                        <span class="block text-sm font-medium text-gray-700 mb-1">Sở thích (checkbox)</span>
                        <div class="flex items-center gap-4">
                            <label class="flex items-center"><input type="checkbox" class="mr-2"> Đọc sách</label>
                            <label class="flex items-center"><input type="checkbox" class="mr-2"> Code</label>
                        </div>
                    </div>
                </div>

                <!-- Textarea -->
                <div>
                    <label class="block text-sm font-medium text-gray-700">Ghi chú (textarea)</label>
                    <textarea rows="3" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"></textarea>
                </div>

                <!-- Buttons -->
                <div class="flex gap-3">
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Gửi (submit)</button>
                    <button type="button" class="bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300">Hủy (button)</button>
                </div>
            </form>
        </section>

        <!-- 8. Semantic -->
        <section id="semantic" class="mb-12">
            <h3 class="text-xl font-bold text-blue-700 mb-4 border-b pb-2">8. Semantic HTML5</h3>
            <div class="border-2 border-dashed border-gray-400 p-4 rounded bg-gray-50 text-center">
                <div class="bg-red-100 p-2 mb-2 border border-red-300">&lt;header&gt; Đầu trang</div>
                <div class="bg-yellow-100 p-2 mb-2 border border-yellow-300">&lt;nav&gt; Menu điều hướng</div>
                <div class="flex flex-col md:flex-row gap-2 mb-2">
                    <div class="bg-green-100 p-4 flex-1 border border-green-300">
                        &lt;main&gt;
                        <div class="bg-white p-2 mt-2 border border-green-200">&lt;section&gt; / &lt;article&gt;</div>
                    </div>
                    <div class="bg-purple-100 p-4 w-full md:w-1/3 border border-purple-300">&lt;aside&gt; Sidebar</div>
                </div>
                <div class="bg-blue-100 p-2 border border-blue-300">&lt;footer&gt; Chân trang</div>
            </div>
        </section>

        <hr class="border-t-4 border-gray-200 my-12">

        <!-- CSS SECTION -->
        <h2 class="text-3xl font-bold text-gray-900 mb-6">Tổng quan CSS</h2>

        <!-- CSS Selectors -->
        <section id="css-selectors" class="mb-12">
            <h3 class="text-xl font-bold text-teal-700 mb-4 border-b pb-2">1. Bộ chọn (Selectors) & Pseudo-classes</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold mb-2">Cơ bản</h4>
                    <ul class="space-y-2 text-sm">
                        <li class="flex justify-between bg-white p-2 rounded shadow-sm">
                            <span class="font-mono text-teal-600">.class</span>
                            <span>Chọn theo Class (phổ biến nhất)</span>
                        </li>
                        <li class="flex justify-between bg-white p-2 rounded shadow-sm">
                            <span class="font-mono text-teal-600">#id</span>
                            <span>Chọn theo ID (duy nhất)</span>
                        </li>
                        <li class="flex justify-between bg-white p-2 rounded shadow-sm">
                            <span class="font-mono text-teal-600">div > p</span>
                            <span>Chọn con trực tiếp</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-2">Trạng thái (Pseudo-classes)</h4>
                    <div class="flex gap-4 items-center bg-white p-4 rounded shadow-sm">
                        <button class="bg-teal-500 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded transition duration-300">
                            Hover me! (:hover)
                        </button>
                        <input type="text" placeholder="Click me (:focus)" class="border p-2 rounded focus:ring-2 focus:ring-teal-500 outline-none">
                    </div>
                    <p class="text-xs text-gray-500 mt-2">Di chuột hoặc click vào ô nhập liệu để thấy hiệu ứng.</p>
                </div>
            </div>
        </section>

        <!-- CSS Box Model -->
        <section id="css-boxmodel" class="mb-12">
            <h3 class="text-xl font-bold text-teal-700 mb-4 border-b pb-2">2. Mô hình hộp (Box Model)</h3>
            <div class="flex flex-col md:flex-row items-center justify-center gap-8 bg-white p-6 rounded border">
                <div class="w-64 h-64 bg-orange-200 flex items-center justify-center relative shadow-lg">
                    <span class="absolute top-0 text-xs text-orange-800 font-bold w-full text-center">Margin (ngoài cùng)</span>
                    <div class="w-48 h-48 bg-yellow-200 border-4 border-black flex items-center justify-center relative">
                        <span class="absolute top-0 text-xs text-black font-bold w-full text-center">Border (viền)</span>
                        <div class="w-32 h-32 bg-green-200 flex items-center justify-center relative">
                             <span class="absolute top-0 text-xs text-green-800 font-bold w-full text-center">Padding (đệm)</span>
                             <div class="w-16 h-16 bg-blue-300 flex items-center justify-center text-xs font-bold text-center">
                                 Content
                             </div>
                        </div>
                    </div>
                </div>
                <div class="text-sm space-y-2">
                    <p><strong>Content:</strong> Nội dung thực tế.</p>
                    <p><strong>Padding:</strong> Khoảng cách từ nội dung đến viền.</p>
                    <p><strong>Border:</strong> Đường viền bao quanh.</p>
                    <p><strong>Margin:</strong> Khoảng cách giữa phần tử này với phần tử khác.</p>
                    <code class="block bg-gray-100 p-2 rounded mt-2">box-sizing: border-box; /* Giúp tính toán kích thước dễ hơn */</code>
                </div>
            </div>
        </section>

        <!-- CSS Layout -->
        <section id="css-flexgrid" class="mb-20">
            <h3 class="text-xl font-bold text-teal-700 mb-4 border-b pb-2">3. Bố cục (Layout)</h3>
            
            <!-- Flexbox -->
            <div class="mb-6">
                <h4 class="font-semibold mb-2">Flexbox (<code>display: flex</code>)</h4>
                <p class="text-sm text-gray-600 mb-2">Dàn trang 1 chiều (hàng hoặc cột). Căn giữa cực dễ.</p>
                <div class="bg-gray-100 p-4 rounded border mb-2 flex justify-between items-center h-24">
                    <div class="w-16 h-16 bg-purple-500 text-white flex items-center justify-center rounded">1</div>
                    <div class="w-16 h-16 bg-purple-500 text-white flex items-center justify-center rounded">2</div>
                    <div class="w-16 h-16 bg-purple-500 text-white flex items-center justify-center rounded">3</div>
                </div>
                <code class="text-xs block bg-gray-800 text-white p-2 rounded">justify-content: space-between; align-items: center;</code>
            </div>

            <!-- Grid -->
            <div>
                <h4 class="font-semibold mb-2">Grid (<code>display: grid</code>)</h4>
                <p class="text-sm text-gray-600 mb-2">Dàn trang 2 chiều (hàng và cột).</p>
                <div class="bg-gray-100 p-4 rounded border grid grid-cols-3 gap-4">
                    <div class="h-16 bg-pink-500 text-white flex items-center justify-center rounded">1</div>
                    <div class="h-16 bg-pink-500 text-white flex items-center justify-center rounded">2</div>
                    <div class="h-16 bg-pink-500 text-white flex items-center justify-center rounded">3</div>
                    <div class="h-16 bg-pink-500 text-white flex items-center justify-center rounded col-span-2">4 (col-span-2)</div>
                    <div class="h-16 bg-pink-500 text-white flex items-center justify-center rounded">5</div>
                </div>
                <code class="text-xs block bg-gray-800 text-white p-2 rounded mt-2">grid-template-columns: repeat(3, 1fr); gap: 1rem;</code>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm pb-8">
            <p>Tổng hợp dựa trên yêu cầu của người dùng. Tích hợp Gemini API.</p>
        </footer>

    </main>

    <!-- Floating AI Button -->
    <button onclick="openAIModal()" class="fixed bottom-6 right-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition duration-300 z-40 group">
        <i class="fa-solid fa-wand-magic-sparkles text-2xl group-hover:rotate-12 transition-transform"></i>
        <span class="absolute right-full mr-3 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap">Hỏi AI HTML/CSS</span>
    </button>

    <!-- AI Modal -->
    <div id="ai-modal" class="fixed inset-0 bg-gray-900 bg-opacity-50 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm" onclick="closeAIModal(event)">
        <div class="bg-white w-full max-w-2xl h-[80vh] rounded-xl shadow-2xl flex flex-col animate-slide-in overflow-hidden" onclick="event.stopPropagation()">
            <!-- Header -->
            <div class="bg-gradient-to-r from-blue-600 to-indigo-600 p-4 flex justify-between items-center text-white">
                <div class="flex items-center gap-2">
                    <i class="fa-solid fa-robot text-xl"></i>
                    <div>
                        <h3 class="font-bold text-lg">Trợ lý AI HTML/CSS</h3>
                        <p class="text-xs text-blue-100">Được hỗ trợ bởi Gemini API ✨</p>
                    </div>
                </div>
                <button onclick="closeAIModal()" class="text-white hover:bg-white/20 rounded-full w-8 h-8 flex items-center justify-center transition">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>

            <!-- Chat Area -->
            <div id="ai-chat-box" class="flex-1 overflow-y-auto p-4 bg-gray-50 space-y-4">
                <!-- Welcome Message -->
                <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 text-blue-600">
                        <i class="fa-solid fa-robot"></i>
                    </div>
                    <div class="bg-white p-3 rounded-lg rounded-tl-none shadow-sm border border-gray-100 max-w-[85%]">
                        <p class="text-sm text-gray-700">Xin chào! Tôi là trợ lý chuyên về HTML & CSS. Bạn cần tôi giải thích thẻ nào, hay muốn tôi viết code mẫu cho phần nào? (Ví dụ: "Tạo navbar responsive", "Giải thích z-index").</p>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="p-4 bg-white border-t border-gray-200">
                <div class="flex gap-2">
                    <textarea id="ai-input" rows="2" placeholder="Nhập câu hỏi của bạn..." class="flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-sm" onkeydown="if(event.key === 'Enter' && !event.shiftKey) { event.preventDefault(); sendToGemini(); }"></textarea>
                    <button onclick="sendToGemini()" id="ai-send-btn" class="bg-blue-600 text-white px-5 rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2 font-medium">
                        <span>Gửi</span>
                        <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
                <p class="text-xs text-center text-gray-400 mt-2">AI có thể mắc lỗi. Hãy kiểm tra code trước khi sử dụng.</p>
            </div>
        </div>
    </div>

    <script>
        // Mobile Menu Toggle
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileNavLinks = document.getElementById('mobile-nav-links');
        
        // Clone links from sidebar to mobile menu
        const sidebarLinks = document.querySelectorAll('aside nav a');
        sidebarLinks.forEach(link => {
            const clone = link.cloneNode(true);
            clone.classList.remove('text-sm');
            clone.classList.add('text-base', 'py-3');
            clone.addEventListener('click', toggleMenu);
            mobileNavLinks.appendChild(clone);
        });

        function toggleMenu() {
            mobileMenu.classList.toggle('hidden');
        }

        menuBtn.addEventListener('click', toggleMenu);

        // Active State on Scroll
        const sections = document.querySelectorAll('section');
        const navItems = document.querySelectorAll('.nav-item');
        const mainContent = document.getElementById('main-content');

        mainContent.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (mainContent.scrollTop >= (sectionTop - 150)) {
                    current = section.getAttribute('id');
                }
            });

            navItems.forEach(a => {
                a.classList.remove('active', 'bg-blue-100', 'text-blue-700');
                if (a.getAttribute('href').includes(current)) {
                    a.classList.add('active');
                }
            });
        });

        // --- AI Modal Logic ---
        const aiModal = document.getElementById('ai-modal');
        const aiInput = document.getElementById('ai-input');
        const chatBox = document.getElementById('ai-chat-box');
        const sendBtn = document.getElementById('ai-send-btn');
        const apiKey = ""; // System will inject API Key

        function openAIModal() {
            aiModal.classList.remove('hidden');
            aiInput.focus();
        }

        function closeAIModal(event) {
            // Close if clicking overlay or close button (if event is not provided, it's close button)
            if (!event || event.target === aiModal) {
                aiModal.classList.add('hidden');
            }
        }

        function appendMessage(role, text) {
            const isUser = role === 'user';
            const div = document.createElement('div');
            div.className = `flex gap-3 ${isUser ? 'flex-row-reverse' : ''}`;
            
            const avatar = document.createElement('div');
            avatar.className = `w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${isUser ? 'bg-gray-200 text-gray-600' : 'bg-blue-100 text-blue-600'}`;
            avatar.innerHTML = isUser ? '<i class="fa-solid fa-user"></i>' : '<i class="fa-solid fa-robot"></i>';
            
            const bubble = document.createElement('div');
            bubble.className = `p-3 rounded-lg shadow-sm border ${isUser ? 'bg-blue-600 text-white rounded-tr-none border-blue-600' : 'bg-white text-gray-700 rounded-tl-none border-gray-100 max-w-[90%] ai-response'}`;
            
            if (isUser) {
                bubble.textContent = text;
            } else {
                // Simple formatter for code blocks in response
                let formatted = text
                    .replace(/```html([\s\S]*?)```/g, '<pre><code class="language-html">$1</code></pre>')
                    .replace(/```css([\s\S]*?)```/g, '<pre><code class="language-css">$1</code></pre>')
                    .replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>')
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'); // Bold
                bubble.innerHTML = formatted;
            }

            div.appendChild(avatar);
            div.appendChild(bubble);
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function showLoading() {
            const div = document.createElement('div');
            div.id = 'ai-loading';
            div.className = 'flex gap-3';
            div.innerHTML = `
                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 text-blue-600"><i class="fa-solid fa-robot"></i></div>
                <div class="bg-white p-4 rounded-lg rounded-tl-none shadow-sm border border-gray-100 flex items-center">
                    <div class="dot-flashing ml-3 mr-3"></div>
                </div>
            `;
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function removeLoading() {
            const el = document.getElementById('ai-loading');
            if (el) el.remove();
        }

        async function sendToGemini() {
            const prompt = aiInput.value.trim();
            if (!prompt) return;

            // Add user message
            appendMessage('user', prompt);
            aiInput.value = '';
            aiInput.style.height = 'auto'; // Reset height
            
            // Show loading
            showLoading();

            try {
                // Construct the prompt with context about being an HTML/CSS tutor
                const systemContext = "Bạn là chuyên gia về HTML và CSS. Hãy trả lời ngắn gọn, dễ hiểu. Nếu người dùng yêu cầu code, hãy cung cấp code chuẩn HTML5/CSS3 hiện đại. Định dạng code trong các block ```html hoặc ```css.";
                const finalPrompt = `${systemContext}\n\nCâu hỏi: ${prompt}`;

                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: finalPrompt }] }]
                    })
                });

                const data = await response.json();
                removeLoading();

                if (data.candidates && data.candidates[0].content) {
                    const aiText = data.candidates[0].content.parts[0].text;
                    appendMessage('ai', aiText);
                } else {
                    appendMessage('ai', 'Xin lỗi, tôi gặp sự cố khi xử lý yêu cầu này.');
                }

            } catch (error) {
                removeLoading();
                appendMessage('ai', 'Đã xảy ra lỗi kết nối. Vui lòng thử lại sau.');
                console.error(error);
            }
        }
    </script>
</body>
</html>